# 우선순위 큐

우선순위 큐(Priority Queue)는 데이터에 우선순위를 부여하여, 우선순위가 높은 데이터부터 꺼내는 추상 자료구조이다. 일반 큐가 FIFO(First In First Out)를 따르는 것과 달리, 우선순위 큐는 삽입 순서와 무관하게 우선순위에 따라 요소를 꺼낸다.

---

## 1. 주요 연산

- **삽입(Push)**: 우선순위 정보를 포함하여 데이터를 큐에 추가한다.
- **삭제(Pop)**: 현재 큐에 존재하는 데이터 중 가장 높은 우선순위를 가진 요소를 꺼낸다. 최소 힙에서는 가장 작은 값이, 최대 힙에서는 가장 큰 값이 삭제 대상이 된다.

---

## 2. 구현 방식

- **배열 또는 리스트 기반 구현**
  삽입 시 정렬을 유지하면 삭제가 빠르지만 삽입 비용이 증가하고, 정렬 없이 삽입하면 삭제 비용이 증가한다.
  정렬된 상태를 유지할 경우 삽입은 O(n), 삭제는 O(1)이며, 정렬하지 않을 경우 삽입은 O(1), 삭제는 O(n)의 시간 복잡도를 가진다.
- **힙(Heap) 기반 구현**
  완전 이진 트리 구조를 따르는 힙을 사용하면 삽입과 삭제 연산을 O(log n)의 시간 복잡도로 수행할 수 있다.
  일반적으로 우선순위 큐는 힙 기반으로 구현하며, Python의 `heapq` 모듈은 최소 힙(min-heap)을 기본으로 제공한다.

---

## 3. 힙을 활용한 구현

- **최소 힙(min-heap)**: 값이 작을수록 우선순위가 높으며, 루트 노드에 가장 작은 값이 위치한다.
- **최대 힙(max-heap)**: 값이 클수록 우선순위가 높으며, 최소 힙을 활용해 값에 음수를 곱하여 구현할 수 있다.

```python
import heapq

# 최소 힙
heap = []
heapq.heappush(heap, 3)
heapq.heappush(heap, 1)
heapq.heappush(heap, 5)
min_val = heapq.heappop(heap)  # 1

# 최대 힙
max_heap = []
heapq.heappush(max_heap, -3)
heapq.heappush(max_heap, -1)
heapq.heappush(max_heap, -5)
max_val = -heapq.heappop(max_heap)  # 5

```

---

## 4. 시간 복잡도 비교

| 연산                      | 배열 기반                        | 힙 기반  |
| ------------------------- | -------------------------------- | -------- |
| 삽입                      | O(1) (미정렬) / O(n) (정렬 유지) | O(log n) |
| 삭제 (최댓값 또는 최솟값) | O(n)                             | O(log n) |

---

## 5. 활용 사례

- **최단 경로 탐색 (다익스트라 알고리즘)**
  현재까지 누적 거리가 가장 짧은 정점을 먼저 선택하여 탐색을 진행한다.
- **운영체제의 스케줄링 시스템**
  프로세스의 우선순위에 따라 CPU 자원을 할당한다.
- **시뮬레이션 이벤트 처리**
  시간순으로 정렬된 이벤트를 처리할 때, 가장 빠른 시간에 발생하는 이벤트부터 처리한다.
- **네트워크 패킷 우선 처리**
  QoS(Quality of Service)를 구현할 때 중요한 패킷을 먼저 처리한다.

---

## 6. 정리

우선순위 큐는 삽입 순서가 아닌 우선순위에 따라 데이터를 처리하는 구조로, 정렬된 순서를 유지하지 않는다. 다양한 알고리즘과 시스템 설계에서 중요한 도구로 활용되며, 효율성과 안정성을 고려할 때 힙 기반 구현이 가장 적절하다.
